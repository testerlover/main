<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Project Hub — Discord Clone</title>
  <meta name="description" content="Hub page linking to and previewing the Discord clone project." />
  <style>
    :root{
      --bg:#0b1020;
      --card:#0f1724;
      --muted:#9aa7c7;
      --accent:#5865f2;
      --glass: rgba(255,255,255,0.04);
      --radius:14px;
      --max:1100px;
      --pad:20px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(88,101,242,0.12), transparent 8%),
        linear-gradient(180deg,#071026 0%, #07101a 40%, #071026 100%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      font-size:16px;
      line-height:1.4;
    }

    .container{
      width:100%;
      max-width:var(--max);
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:20px;
      padding:calc(var(--pad) + 4px);
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      display:grid;
      grid-template-columns: 420px 1fr;
      gap:20px;
    }

    header{
      grid-column: 1 / -1;
      display:flex;
      align-items:center;
      gap:16px;
    }
    .logo{
      width:56px;height:56px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),#8a8cf2);
      display:flex;align-items:center;justify-content:center;font-weight:700;
      box-shadow: 0 6px 20px rgba(88,101,242,0.18); font-size:20px;
    }
    .title{
      display:flex;flex-direction:column;
    }
    .title h1{
      margin:0;font-size:20px;
    }
    .title p{margin:0;color:var(--muted);font-size:13px}

    /* Left column (card) */
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:var(--radius);
      padding:18px;
      border:1px solid rgba(255,255,255,0.03);
      display:flex;
      flex-direction:column;
      gap:12px;
      min-height:320px;
    }
    .meta{display:flex;gap:12px;align-items:center}
    .badge{font-size:12px;padding:6px 10px;border-radius:999px;background:var(--glass);color:var(--muted);border:1px solid rgba(255,255,255,0.03)}
    .desc{color:var(--muted);font-size:14px;margin-top:6px}
    .actions{display:flex;gap:10px;margin-top:auto}
    button{
      appearance:none;border:0;padding:10px 12px;border-radius:10px;background:rgba(255,255,255,0.03);color:inherit;cursor:pointer;font-weight:600;
      transition:transform .08s ease,box-shadow .12s;
    }
    button:active{transform:translateY(1px)}
    .primary{background:linear-gradient(90deg,var(--accent),#6e7bf8);box-shadow: 0 6px 18px rgba(88,101,242,0.18);color:white}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}

    .small{font-size:13px;padding:8px 10px;border-radius:8px}
    .url-box{
      background:rgba(0,0,0,0.18);padding:8px 10px;border-radius:10px;display:flex;gap:8px;align-items:center;
      border:1px solid rgba(255,255,255,0.02);color:var(--muted);font-size:13px;overflow:hidden;
    }
    .url-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

    /* Right column (preview) */
    .preview{
      border-radius:var(--radius);
      overflow:hidden;
      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      border:1px solid rgba(255,255,255,0.03);
      display:flex;
      flex-direction:column;
      min-height:420px;
    }
    .preview-header{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid rgba(255,255,255,0.02)}
    .preview-body{flex:1;display:flex;align-items:stretch;justify-content:stretch;background:#061126}
    iframe.preview-frame{width:100%;height:100%;border:0;display:block}

    .note{font-size:12px;color:var(--muted);padding:10px 14px;border-top:1px solid rgba(255,255,255,0.02);background:rgba(0,0,0,0.02)}

    /* Responsive */
    @media (max-width:980px){
      .container{grid-template-columns:1fr; padding:16px}
      .preview{min-height:280px}
    }
  </style>
</head>
<body>
  <div class="container" role="main">
    <header>
      <div class="logo" aria-hidden="true">DC</div>
      <div class="title">
        <h1>Discord Clone — Project Hub</h1>
        <p>Preview, open, or copy the link to the live Discord clone.</p>
      </div>
    </header>

    <!-- Left column -->
    <aside class="card" aria-labelledby="project-title">
      <div>
        <div class="meta">
          <div style="display:flex;flex-direction:column">
            <strong id="project-title">Discord Clone</strong>
            <span style="font-size:13px;color:var(--muted)">React-based UI replica — live on GitHub Pages</span>
          </div>
          <div style="margin-left:auto"><span class="badge">Live</span></div>
        </div>

        <p class="desc">
          This hub embeds and links to your Discord clone hosted at GitHub Pages. Use the preview to interact inside this page (if the host allows embedding), or open it in a new tab.
        </p>

        <div style="margin-top:12px">
          <div class="url-box" aria-hidden="false" title="Project URL">
            <div style="flex:1;min-width:0">
              <div class="url-text" id="project-url">https://bluescreenofdeath539onroblox.github.io/react-app-0/discordclone</div>
            </div>
          </div>
        </div>
      </div>

      <div class="actions" aria-hidden="false">
        <button class="small primary" id="open-btn" title="Open in new tab">Open project ↗</button>
        <button class="small ghost" id="copy-btn" title="Copy URL to clipboard">Copy link</button>
        <button class="small" id="toggle-preview" title="Toggle iframe preview">Toggle preview</button>
      </div>

      <div style="margin-top:12px;color:var(--muted);font-size:13px">
        Quick tips:
        <ul style="margin:8px 12px;color:var(--muted);padding-left:18px">
          <li>Use "Open project" to load the app in a full tab (recommended if the embed is blocked).</li>
          <li>If the preview is blank, the server may set <code>X-Frame-Options</code> or <code>Content-Security-Policy</code> to disallow embedding.</li>
        </ul>
      </div>
    </aside>

    <!-- Right column: Preview -->
    <section class="preview" aria-label="Project preview">
      <div class="preview-header">
        <div style="display:flex;flex-direction:column">
          <strong>Preview</strong>
          <span style="font-size:12px;color:var(--muted)">Interactive iframe (if allowed by host)</span>
        </div>
        <div style="font-size:13px;color:var(--muted)">Host: GitHub Pages</div>
      </div>

      <div class="preview-body" id="preview-area">
        <iframe
          id="preview-frame"
          class="preview-frame"
          src="https://bluescreenofdeath539onroblox.github.io/react-app-0/discordclone"
          title="Discord clone preview"
          sandbox="allow-forms allow-scripts allow-same-origin allow-popups allow-modals allow-top-navigation-by-user-activation"
        ></iframe>
      </div>

      <div class="note" id="preview-note">
        If the preview area stays blank, the site likely blocks embedding. In that case click "Open project ↗".
      </div>
    </section>
  </div>

  <script>
    (function(){
      const projectUrl = 'https://bluescreenofdeath539onroblox.github.io/react-app-0/discordclone';
      const openBtn = document.getElementById('open-btn');
      const copyBtn = document.getElementById('copy-btn');
      const toggleBtn = document.getElementById('toggle-preview');
      const previewFrame = document.getElementById('preview-frame');
      const previewArea = document.getElementById('preview-area');
      const previewNote = document.getElementById('preview-note');
      let previewVisible = true;

      openBtn.addEventListener('click', () => {
        // open in new tab/window
        window.open(projectUrl, '_blank', 'noopener');
      });

      copyBtn.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText(projectUrl);
          copyBtn.textContent = 'Copied ✓';
          setTimeout(()=> copyBtn.textContent = 'Copy link', 1600);
        } catch (err) {
          // fallback
          const ta = document.createElement('textarea');
          ta.value = projectUrl;
          document.body.appendChild(ta);
          ta.select();
          try { document.execCommand('copy'); copyBtn.textContent = 'Copied ✓'; }
          catch(e){ alert('Copy failed — select and copy manually:\\n' + projectUrl); }
          ta.remove();
          setTimeout(()=> copyBtn.textContent = 'Copy link', 1600);
        }
      });

      toggleBtn.addEventListener('click', () => {
        previewVisible = !previewVisible;
        if(previewVisible){
          previewArea.style.display = '';
          toggleBtn.textContent = 'Toggle preview';
        } else {
          previewArea.style.display = 'none';
          toggleBtn.textContent = 'Show preview';
        }
      });

      // If the iframe hosts X-Frame-Options or CSP that blocks framing, it will appear blank.
      // We'll attempt a quick heuristic: after 1.2s, check if iframe has loaded by reading readyState via contentDocument (try/catch).
      setTimeout(() => {
        try {
          const doc = previewFrame.contentDocument;
          if(!doc || doc.readyState === 'loading'){
            // could still be loading or blocked; show hint
            previewNote.textContent = 'Preview might be blocked by the host (X-Frame-Options or Content-Security-Policy). Use "Open project ↗".';
          } else {
            previewNote.textContent = 'Preview loaded — interact with the embedded app.';
          }
        } catch (e) {
          // cross-origin/frame blocked -> assume blocked
          previewNote.textContent = 'Preview blocked by the host (framing not allowed). Click "Open project ↗" to open in a new tab.';
        }
      }, 1200);
    })();
  </script>
</body>
</html>
